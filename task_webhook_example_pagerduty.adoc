---
sidebar: sidebar 
permalink: task_webhook_example_pagerduty.html 
keywords: webhook, notification, PagerDuty, integration 
summary: Erstellen Sie einen Webhook, um bei Leistungs- oder Bestandsschwellenwerten für Pagerduty zu warnen 
---
= Webhook-Beispiel für PagerDuty
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Mithilfe von Webhooks können Benutzer über einen benutzerdefinierten Webhook-Kanal Warnbenachrichtigungen an verschiedene Anwendungen senden.  Diese Seite bietet ein Beispiel zum Einrichten von Webhooks für PagerDuty.


NOTE: Diese Seite verweist auf Anweisungen von Drittanbietern, die Änderungen unterliegen können.  Weitere Informationen finden Sie imlink:https://support.pagerduty.com/docs/services-and-integrations["PagerDuty-Dokumentation"] für die aktuellsten Informationen.



== PagerDuty-Setup:

. Navigieren Sie in PagerDuty zu *Dienste > Dienstverzeichnis* und klicken Sie auf die Schaltfläche *+Neuer Dienst*​
. Geben Sie einen _Namen_ ein und wählen Sie _Unsere API direkt verwenden_.  Klicken Sie auf _Dienst hinzufügen_.
+
image:Webhooks_PagerDutyScreen1.png["Pagerduty-Bildschirm"]

. Klicken Sie auf die Registerkarte _Integrationen_, um den *Integrationsschlüssel* anzuzeigen.  Sie benötigen diesen Schlüssel, wenn Sie unten den Data Infrastructure Insights -Webhook erstellen.


. Gehen Sie zu *Vorfälle* oder *Dienste*, um Warnungen anzuzeigen.
+
image:Webhooks_PagerDutyScreen2.png["Pagerduty-Bildschirm"]





== Erstellen Sie einen Data Infrastructure Insights -Webhook:

. Navigieren Sie in Data Infrastructure Insights zu *Admin > Benachrichtigungen* und wählen Sie die Registerkarte *Webhooks* aus.  Klicken Sie auf *+Webhook*, um einen neuen Webhook zu erstellen.
. Geben Sie dem Webhook einen aussagekräftigen Namen, beispielsweise „PagerDuty Trigger“.  Sie verwenden diesen Webhook für Ereignisse der Stufen „kritisch“ und „Warnung“.
. Wählen Sie im Dropdown-Menü „Vorlagentyp“ die Option „PagerDuty“ aus.


. Erstellen Sie ein benutzerdefiniertes Parametergeheimnis mit dem Namen _routingKey_ und legen Sie den Wert auf den PagerDuty-_Integrationsschlüssel_-Wert von oben fest.
+
image:Webhooks_Custom_Secret_Routing_Key.png["Festlegen des Routing-Schlüssels"]



Wiederholen Sie diese Schritte, um einen „PagerDuty Resolve“-Webhook für gelöste Ereignisse zu erstellen.



== PagerDuty zur Data Infrastructure Insights -Feldzuordnung

Die folgende Tabelle und das Bild zeigen die Zuordnung der Felder zwischen PagerDuty und Data Infrastructure Insights:

[cols="<,<"]
|===
| PagerDuty | Data Infrastructure Insights 


| Alarmschlüssel | Warnmeldungs-ID 


| Quelle | Ausgelöst am 


| Komponente | Metrikname 


| Gruppe | Objekttyp 


| Klasse | Monitorname 
|===
image:Webhooks-PagerDuty_Fields.png["PagerDuty-Felder in CI"]



== Benachrichtigungen per Webhook

Um über Ereignisse per Webhook zu benachrichtigen, navigieren Sie in Data Infrastructure Insights zu *Alerts > Monitors* und klicken Sie auf *+Monitor*, um einen neuenlink:task_create_monitor.html["Monitor"] .

* Wählen Sie eine Metrik aus und definieren Sie die Bedingungen des Monitors.
* Wählen Sie unter „Teambenachrichtigung(en) einrichten“ die Übermittlungsmethode „Webhook“ aus.
* Wählen Sie den Webhook „PagerDuty Trigger“ für Ereignisse der Stufen „Kritisch“ und „Warnung“.
* Wählen Sie „PagerDuty Resolve“ für gelöste Ereignisse.
+
image:Webhooks_Notifications.png["Webhook-Benachrichtigungen"]




NOTE: Das Festlegen separater Benachrichtigungen für Trigger-Ereignisse im Vergleich zu aufgelösten Ereignissen ist eine bewährte Methode, da PagerDuty Trigger-Ereignisse anders behandelt als aufgelöste Ereignisse.
