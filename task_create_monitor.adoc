---
sidebar: sidebar 
permalink: task_create_monitor.html 
keywords: monitors, alerts, log, metric, system-defined, system, metric, 
summary: Erstellen Sie benutzerdefinierte Metrik- und Protokollmonitore, um die Infrastrukturleistung, Kapazitätsschwellenwerte und kritische Ereignisse mit automatisierten Warnmeldungen und Benachrichtigungen proaktiv zu verfolgen. 
---
= Alarmierung mit Monitoren
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Konfigurieren Sie Monitore, um Leistungsschwellenwerte, Protokollereignisse und Anomalien in Ihren Infrastrukturressourcen zu verfolgen. Erstellen Sie benutzerdefinierte Warnungen für Metriken wie Knotenschreiblatenz, Speicherkapazität oder Anwendungsleistung und erhalten Sie Benachrichtigungen, wenn diese Bedingungen erfüllt sind.

Mithilfe von Monitoren können Sie Schwellenwerte für Metriken festlegen, die von „Infrastruktur“-Objekten wie Speicher, VM, EC2 und Ports generiert werden, sowie für „Integration“-Daten, wie sie beispielsweise für Kubernetes, erweiterte ONTAP -Metriken und Telegraf-Plugins erfasst werden.  Diese _metrischen_ Monitore warnen Sie, wenn Warnschwellen oder kritische Schwellenwerte überschritten werden.

Sie können auch Monitore erstellen, um Warnungen auf Warn-, kritischer oder informativer Ebene auszulösen, wenn bestimmte _Protokollereignisse_ erkannt werden.

Data Infrastructure Insights bietet eine Reihe vonlink:task_system_monitors.html["Systemdefinierte Monitore"] auch basierend auf Ihrer Umgebung.



== Best Practice für die Sicherheit

Die Warnmeldungen von Data Infrastructure Insights sollen Datenpunkte und Trends zu Ihrem Mandanten hervorheben. Außerdem können Sie mit Data Infrastructure Insights eine beliebige gültige E-Mail-Adresse als Warnmeldungsempfänger eingeben.  Wenn Sie in einer sicheren Umgebung arbeiten, achten Sie besonders darauf, wer die Benachrichtigung erhält oder anderweitig Zugriff auf die Warnung hat.



== Metrik- oder Protokollmonitor?

. Klicken Sie im Menü „Data Infrastructure Insights“ auf *Warnungen > Monitore verwalten*
+
Die Seite mit der Monitorliste wird angezeigt und zeigt die aktuell konfigurierten Monitore.

. Um einen vorhandenen Monitor zu ändern, klicken Sie in der Liste auf den Monitornamen.
. Um einen Monitor hinzuzufügen, klicken Sie auf *+ Monitor*.
+
image:Monitor_log_or_metric.png["Wählen Sie den System- oder Protokollmonitor"]

+
Wenn Sie einen neuen Monitor hinzufügen, werden Sie aufgefordert, einen Metrikmonitor oder einen Protokollmonitor zu erstellen.

+
** _Metric_ überwacht Warnungen bei infrastruktur- oder leistungsbezogenen Auslösern
** _Log_ überwacht Warnungen bei protokollbezogenen Aktivitäten


+
Nachdem Sie Ihren Monitortyp ausgewählt haben, wird das Dialogfeld „Monitorkonfiguration“ angezeigt.  Die Konfiguration variiert je nach dem von Ihnen erstellten Monitortyp.





=== Metrikmonitor

. Suchen Sie in der Dropdown-Liste nach einem zu überwachenden Objekttyp und einer Metrik und wählen Sie diese aus.


Sie können Filter festlegen, um einzugrenzen, welche Objektattribute oder Metriken überwacht werden sollen.

image:MonitorMetricFilter.png["Metrikfilterung"]

Beim Arbeiten mit Integrationsdaten (Kubernetes, ONTAP Advanced Data usw.) entfernt die Metrikfilterung die einzelnen/nicht übereinstimmenden Datenpunkte aus der dargestellten Datenreihe. Bei Infrastrukturdaten (Speicher, VM, Ports usw.) hingegen arbeiten Filter mit dem aggregierten Wert der Datenreihe und entfernen möglicherweise das gesamte Objekt aus dem Diagramm.

Metrikmonitore gelten für Inventarobjekte wie Speicher, Switch, Host, VM usw. sowie für Integrationsmetriken wie ONTAP Advanced oder Kubernetes-Daten. Beachten Sie beim Überwachen von Inventarobjekten, dass Sie keine „Gruppieren nach“-Methode auswählen können. Bei der Überwachung von Integrationsdaten ist jedoch eine Gruppierung zulässig.



==== Multi-Condition-Monitore

Sie können Ihren Metrikmonitor durch Hinzufügen einer zweiten Bedingung weiter verfeinern. Erweitern Sie einfach die Eingabeaufforderung „+Sekundäre Metrikbedingung hinzufügen“ und konfigurieren Sie die zusätzliche Bedingung.

image:multi-condition_monitor_second_condition.png["Legen Sie die zweite Bedingung fest"]

Der Monitor gibt einen Alarm aus, wenn beide Bedingungen erfüllt sind.

Beachten Sie, dass Sie eine zweite Bedingung nur mit einem „UND“ verknüpfen können. Sie können nicht wählen, ob Sie bei der einen ODER der anderen Bedingung eine Warnung erhalten möchten.



==== Definieren Sie die Bedingungen des Monitors.

. Nachdem Sie das zu überwachende Objekt und die Metrik ausgewählt haben, legen Sie die Schwellenwerte für die Warnstufe und/oder die kritische Stufe fest.
. Geben Sie für die Warnstufe in unserem Beispiel 200 ein.  Die gestrichelte Linie, die diese Warnstufe anzeigt, wird im Beispieldiagramm angezeigt.
. Geben Sie für die Stufe _Kritisch_ den Wert 400 ein.  Die gestrichelte Linie, die diesen kritischen Pegel anzeigt, wird im Beispieldiagramm angezeigt.
+
Das Diagramm zeigt historische Daten.  Die Warn- und Kritisch-Level-Linien im Diagramm sind eine visuelle Darstellung des Monitors, sodass Sie leicht erkennen können, wann der Monitor in jedem Fall eine Warnung auslösen könnte.

. Wählen Sie für das Auftretensintervall _Kontinuierlich_ für einen Zeitraum von _15 Minuten_.
+
Sie können wählen, ob Sie einen Alarm auslösen möchten, sobald ein Schwellenwert überschritten wird, oder ob Sie warten möchten, bis der Schwellenwert über einen bestimmten Zeitraum hinweg kontinuierlich überschritten wurde.  In unserem Beispiel möchten wir nicht jedes Mal benachrichtigt werden, wenn die Gesamt-IOPS den Warn- oder kritischen Wert überschreiten, sondern nur, wenn ein überwachtes Objekt mindestens 15 Minuten lang kontinuierlich einen dieser Werte überschreitet.

+
image:Monitor_metric_conditions.png["Definieren Sie die Bedingungen des Monitors"]





==== Definieren des Alarmauflösungsverhaltens

Sie können auswählen, wie eine Metriküberwachungswarnung aufgelöst wird.  Ihnen stehen zwei Möglichkeiten zur Verfügung:

* Lösen Sie das Problem, wenn die Metrik wieder in den akzeptablen Bereich zurückkehrt.
* Lösen Sie das Problem, wenn die Metrik für einen bestimmten Zeitraum (von 1 Minute bis 7 Tagen) im akzeptablen Bereich liegt.




=== Protokollmonitor

Wählen Sie beim Erstellen eines *Protokollmonitors* zunächst aus der verfügbaren Protokollliste aus, welches Protokoll überwacht werden soll.  Anschließend können Sie wie oben beschrieben anhand der verfügbaren Attribute filtern.  Sie können auch ein oder mehrere „Gruppieren nach“-Attribute auswählen.


NOTE: Der Log-Monitor-Filter darf nicht leer sein.

image:Monitor_Group_By_Example.png["Wählen Sie das zu überwachende Protokoll aus, legen Sie einen Filter fest und wählen Sie bei Bedarf die Gruppierungsmethode aus."]



==== Definieren Sie das Alarmverhalten

Sie können den Monitor so erstellen, dass er mit dem Schweregrad _Kritisch_, _Warnung_ oder _Informativ_ warnt, wenn die oben definierten Bedingungen einmal (also sofort) eintreten, oder mit der Warnung warten, bis die Bedingungen zweimal oder öfter eintreten.



==== Definieren des Alarmauflösungsverhaltens

Sie können auswählen, wie eine Warnung des Protokollmonitors aufgelöst wird.  Ihnen stehen drei Auswahlmöglichkeiten zur Verfügung:

* *Sofort lösen*: Der Alarm wird sofort gelöst, es sind keine weiteren Maßnahmen erforderlich
* *Auflösung basierend auf Zeit*: Der Alarm wird nach Ablauf der angegebenen Zeit aufgelöst
* *Auflösung basierend auf Protokolleintrag*: Der Alarm wird aufgelöst, wenn eine nachfolgende Protokollaktivität aufgetreten ist.  Beispielsweise wenn ein Objekt als „verfügbar“ protokolliert wird.


image:Monitor_log_monitor_resolution.png["Alarmauflösung"]



=== Anomalieerkennungsmonitor

. Suchen Sie in der Dropdown-Liste nach einem zu überwachenden Objekttyp und einer Metrik und wählen Sie diese aus.


Sie können Filter festlegen, um einzugrenzen, welche Objektattribute oder Metriken überwacht werden sollen.

image:AnomalyDetectionMonitorMetricChoosing.png["Metrikfilterung zur Anomalieerkennung"]



==== Definieren Sie die Bedingungen des Monitors.

. Nachdem Sie das zu überwachende Objekt und die Metrik ausgewählt haben, legen Sie die Bedingungen fest, unter denen eine Anomalie erkannt wird.
+
** Wählen Sie, ob eine Anomalie erkannt werden soll, wenn die gewählte Metrik die vorhergesagten Grenzen *überschreitet*, *unterschreitet* oder *über oder unterschreitet*.
** Stellen Sie die *Empfindlichkeit* der Erkennung ein.  *Niedrig* (weniger Anomalien werden erkannt), *Mittel* oder *Hoch* (mehr Anomalien werden erkannt).
** Stellen Sie die Warnungen auf *Warnung* oder *Kritisch* ein.
** Bei Bedarf können Sie das Rauschen reduzieren und Anomalien ignorieren, wenn die gewählte Metrik unter einem von Ihnen festgelegten Schwellenwert liegt.




image:AnomalyDetectionMonitorDefineConditions.png["Definieren der Bedingungen zum Auslösen einer Anomalieerkennung"]



=== Benachrichtigungstyp und Empfänger auswählen

Im Abschnitt „Teambenachrichtigung(en) einrichten“ können Sie auswählen, ob Ihr Team per E-Mail oder Webhook benachrichtigt werden soll.

image:Webhook_Choose_Monitor_Notification.png["Wählen Sie eine Benachrichtigungsmethode"]

*Benachrichtigung per E-Mail:*

Geben Sie die E-Mail-Empfänger für Warnbenachrichtigungen an.  Bei Bedarf können Sie für Warnungen oder kritische Alarme unterschiedliche Empfänger auswählen.

image:email_monitor_alerts.png["Empfänger von E-Mail-Benachrichtigungen"]

*Alarmierung per Webhook:*

Geben Sie den/die Webhook(s) für Warnbenachrichtigungen an.  Bei Bedarf können Sie verschiedene Webhooks für Warnungen oder kritische Alarme auswählen.

image:Webhook_Monitor_Notifications.png["Webhook-Warnung"]


NOTE: ONTAP Data Collector-Benachrichtigungen haben Vorrang vor allen spezifischen Monitor-Benachrichtigungen, die für den Cluster/Data Collector relevant sind.  Die Empfängerliste, die Sie für den Datensammler selbst festlegen, erhält die Warnungen des Datensammlers.  Wenn keine aktiven Datensammlerwarnungen vorliegen, werden vom Monitor generierte Warnungen an bestimmte Monitorempfänger gesendet.



=== Festlegen von Korrekturmaßnahmen oder zusätzlichen Informationen

Sie können eine optionale Beschreibung sowie zusätzliche Erkenntnisse und/oder Korrekturmaßnahmen hinzufügen, indem Sie den Abschnitt *Warnungsbeschreibung hinzufügen* ausfüllen.  Die Beschreibung kann bis zu 1024 Zeichen lang sein und wird mit der Warnung gesendet.  Das Feld „Erkenntnisse/Korrekturmaßnahmen“ kann bis zu 67.000 Zeichen umfassen und wird im Zusammenfassungsbereich der Zielseite der Warnung angezeigt.

In diesen Feldern können Sie Notizen, Links oder Schritte zur Korrektur oder anderweitigen Bearbeitung der Warnung angeben.

Sie können einer Alarmbeschreibung jedes beliebige Objektattribut (z. B. den Speichernamen) als Parameter hinzufügen.  Sie können beispielsweise Parameter für den Volumenamen und den Speichernamen in einer Beschreibung wie folgt festlegen: „Hohe Latenz für Volume: _%%relatedObject.volume.name%%_, Speicher: _%%relatedObject.storage.name%%_“.

image:Monitors_Alert_Description.png["Korrekturmaßnahmen und Beschreibung der Warnung"]



=== Speichern Sie Ihren Monitor

. Falls gewünscht, können Sie eine Beschreibung des Monitors hinzufügen.
. Geben Sie dem Monitor einen aussagekräftigen Namen und klicken Sie auf *Speichern*.
+
Ihr neuer Monitor wird der Liste der aktiven Monitore hinzugefügt.





== Monitorliste

Auf der Seite „Monitor“ werden die aktuell konfigurierten Monitore aufgelistet und Folgendes angezeigt:

* Monitorname
* Status
* Überwachtes Objekt/Metrik
* Bedingungen des Monitors


Sie können die Überwachung eines Objekttyps vorübergehend anhalten, indem Sie auf das Menü rechts neben dem Monitor klicken und *Pause* auswählen.  Wenn Sie bereit sind, die Überwachung fortzusetzen, klicken Sie auf *Fortsetzen*.

Sie können einen Monitor kopieren, indem Sie im Menü *Duplizieren* auswählen.  Anschließend können Sie den neuen Monitor modifizieren und Objekt/Metrik, Filter, Bedingungen, E-Mail-Empfänger usw. ändern.

Wenn ein Monitor nicht mehr benötigt wird, können Sie ihn löschen, indem Sie im Menü *Löschen* auswählen.



== Monitorgruppen

Durch Gruppieren können Sie zusammengehörige Monitore anzeigen und verwalten.  Sie können beispielsweise eine Monitorgruppe speziell für den Speicher Ihres Mandanten einrichten oder Monitore, die für eine bestimmte Empfängerliste relevant sind.

image:Monitors_GroupList.png["Monitorgruppierung"]

Die folgenden Monitorgruppen werden angezeigt.  Die Anzahl der in einer Gruppe enthaltenen Monitore wird neben dem Gruppennamen angezeigt.

* *Alle Monitore* listet alle Monitore auf.
* *Benutzerdefinierte Monitore* listet alle vom Benutzer erstellten Monitore auf.
* *Angehaltene Monitore* listet alle Systemmonitore auf, die von Data Infrastructure Insights angehalten wurden.
* Data Infrastructure Insights zeigt auch eine Reihe von *System Monitor Groups* an, die eine oder mehrere Gruppen vonlink:task_system_monitors.html["systemdefinierte Monitore"] , einschließlich ONTAP -Infrastruktur- und Workload-Monitoren.



NOTE: Benutzerdefinierte Monitore können angehalten, fortgesetzt, gelöscht oder in eine andere Gruppe verschoben werden.  Systemdefinierte Monitore können angehalten und fortgesetzt, aber nicht gelöscht oder verschoben werden.



=== Hängende Monitore

Diese Gruppe wird nur angezeigt, wenn Data Infrastructure Insights einen oder mehrere Monitore angehalten hat.  Ein Monitor kann ausgesetzt werden, wenn er übermäßig viele oder kontinuierliche Warnungen generiert.  Wenn es sich bei dem Monitor um einen benutzerdefinierten Monitor handelt, ändern Sie die Bedingungen, um die kontinuierliche Alarmierung zu verhindern, und setzen Sie den Monitor dann fort.  Der Monitor wird aus der Gruppe „Angehaltene Monitore“ entfernt, wenn das Problem, das zur Anhaltung geführt hat, behoben ist.



=== Systemdefinierte Monitore

Diese Gruppen zeigen die von Data Infrastructure Insights bereitgestellten Monitore an, sofern Ihre Umgebung die von den Monitoren benötigten Geräte und/oder Protokollverfügbarkeit enthält.

Systemdefinierte Monitore können nicht geändert, in eine andere Gruppe verschoben oder gelöscht werden.  Sie können jedoch einen Systemmonitor duplizieren und das Duplikat ändern oder verschieben.

Systemmonitore können Monitore für die ONTAP Infrastruktur (Speicher, Volume usw.) oder Workloads (d. h. Protokollmonitore) oder andere Gruppen umfassen.  NetApp wertet ständig die Kundenbedürfnisse und Produktfunktionen aus und aktualisiert oder ergänzt Systemmonitore und -gruppen nach Bedarf.



=== Benutzerdefinierte Monitorgruppen

Sie können Ihre eigenen Gruppen erstellen, um Monitore entsprechend Ihren Anforderungen zu enthalten.  Beispielsweise möchten Sie möglicherweise eine Gruppe für alle Ihre speicherbezogenen Monitore.

Um eine neue benutzerdefinierte Monitorgruppe zu erstellen, klicken Sie auf die Schaltfläche *"+" Neue Monitorgruppe erstellen*.  Geben Sie einen Namen für die Gruppe ein und klicken Sie auf *Gruppe erstellen*.  Es wird eine leere Gruppe mit diesem Namen erstellt.

Um Monitore zur Gruppe hinzuzufügen, gehen Sie zur Gruppe „Alle Monitore“ (empfohlen) und führen Sie einen der folgenden Schritte aus:

* Um einen einzelnen Monitor hinzuzufügen, klicken Sie auf das Menü rechts neben dem Monitor und wählen Sie _Zur Gruppe hinzufügen_.  Wählen Sie die Gruppe aus, zu der der Monitor hinzugefügt werden soll.
* Klicken Sie auf den Monitornamen, um die Bearbeitungsansicht des Monitors zu öffnen, und wählen Sie im Abschnitt _Mit einer Monitorgruppe verknüpfen_ eine Gruppe aus.
+
image:Monitors_AssociateToGroup.png["Mit Gruppe verknüpfen"]



Entfernen Sie Monitore, indem Sie auf eine Gruppe klicken und im Menü „Aus Gruppe entfernen“ auswählen.  Sie können keine Monitore aus der Gruppe „Alle Monitore“ oder „Benutzerdefinierte Monitore“ entfernen.  Um einen Monitor aus diesen Gruppen zu löschen, müssen Sie den Monitor selbst löschen.


NOTE: Durch das Entfernen eines Monitors aus einer Gruppe wird der Monitor nicht aus Data Infrastructure Insights gelöscht.  Um einen Monitor vollständig zu entfernen, wählen Sie den Monitor aus und klicken Sie auf _Löschen_.  Dadurch wird es auch aus der Gruppe entfernt, zu der es gehörte, und steht keinem Benutzer mehr zur Verfügung.

Sie können einen Monitor auf die gleiche Weise auch in eine andere Gruppe verschieben, indem Sie _In Gruppe verschieben_ auswählen.

Um alle Monitore einer Gruppe gleichzeitig anzuhalten oder fortzusetzen, wählen Sie das Menü für die Gruppe aus und klicken Sie auf _Pause_ oder _Fortsetzen_.

Verwenden Sie dasselbe Menü, um eine Gruppe umzubenennen oder zu löschen.  Durch das Löschen einer Gruppe werden die Monitore nicht aus Data Infrastructure Insights gelöscht. Sie sind weiterhin unter „Alle Monitore“ verfügbar.

image:Monitors_PauseGroup.png["Eine Gruppe pausieren"]



== Systemdefinierte Monitore

Data Infrastructure Insights umfasst eine Reihe systemdefinierter Monitore für Metriken und Protokolle.  Die verfügbaren Systemmonitore hängen von den auf Ihrem Mandanten vorhandenen Datensammlern ab.  Aus diesem Grund können sich die in Data Infrastructure Insights verfügbaren Monitore ändern, wenn Datensammler hinzugefügt oder ihre Konfigurationen geändert werden.

Sehen Sie sich dielink:task_system_monitors.html["Systemdefinierte Monitore"] Seite mit Beschreibungen der in Data Infrastructure Insights enthaltenen Monitore.



=== Weitere Informationen

* link:task_view_and_manage_alerts.html["Anzeigen und Verwerfen von Warnungen"]

