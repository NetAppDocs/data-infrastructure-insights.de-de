---
sidebar: sidebar 
permalink: task_config_telegraf_docker.html 
keywords: telegraf, installation, install, docker 
summary: Konfiguration des Docker-Datensammlers 
---
= Docker-Datensammler
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Data Infrastructure Insights verwendet diesen Datensammler, um Metriken von Docker zu sammeln.



== Installation

. Klicken Sie unter *Observability > Collectors* auf *+Data Collector*.  Wählen Sie Docker.
+
Wenn Sie keinen Agenten für die Sammlung konfiguriert haben, werden Sie aufgefordert,link:task_config_telegraf_agent.html["Installieren eines Agenten"] auf Ihrem Mieter.

+
Wenn Sie bereits einen Agenten konfiguriert haben, wählen Sie das entsprechende Betriebssystem oder die entsprechende Plattform aus und klicken Sie auf *Weiter*.

. Befolgen Sie die Anweisungen im Docker-Konfigurationsbildschirm, um den Datensammler zu konfigurieren.  Die Anweisungen variieren je nach Art des Betriebssystems oder der Plattform, die Sie zum Sammeln von Daten verwenden.


image:DockerDCConfigLinux.png["Docker-Konfiguration"]



== Aufstellen

Das Telegraf-Eingabe-Plugin für Docker sammelt Metriken über einen angegebenen UNIX-Socket oder einen TCP-Endpunkt.



=== Kompatibilität

Die Konfiguration wurde für Docker Version 1.12.6 entwickelt.



=== Einrichten



=== Zugriff auf Docker über einen UNIX-Socket

Wenn der Telegraf-Agent auf Baremetal ausgeführt wird, fügen Sie den Telegraf-Unix-Benutzer zur Docker-Unix-Gruppe hinzu, indem Sie Folgendes ausführen:

 sudo usermod -aG docker telegraf
Wenn der Telegraf-Agent in einem Kubernetes-Pod ausgeführt wird, legen Sie den Docker-Unix-Socket frei, indem Sie den Socket als Volume in den Pod einbinden und dieses Volume dann in /var/run/docker.sock mounten.  Fügen Sie der PodSpec beispielsweise Folgendes hinzu:

[listing]
----
volumes:
...
- name: docker-sock
hostPath:
path: /var/run/docker.sock
type: File
----
Fügen Sie dann dem Container Folgendes hinzu:

[listing]
----
volumeMounts:
...
- name: docker-sock
mountPath: /var/run/docker.sock
----
Beachten Sie, dass das für die Kubernetes-Plattform bereitgestellte Data Infrastructure Insights -Installationsprogramm diese Zuordnung automatisch vornimmt.



=== Zugriff auf Docker über einen TCP-Endpunkt

Standardmäßig verwendet Docker Port 2375 für unverschlüsselten Zugriff und Port 2376 für verschlüsselten Zugriff.



== Objekte und Zähler

Die folgenden Objekte und ihre Zähler werden gesammelt:

[cols="<.<,<.<,<.<,<.<"]
|===
| Objekt: | Kennungen: | Merkmale: | Datenpunkte: 


| Docker-Engine | Namespace Docker Engine | Knotenname Knoten-IP Knoten-UUID Knoten-Betriebssystem Kubernetes-Cluster Docker-Version Einheit | Speichercontainer Container Angehaltene Container Laufende Container Gestoppte CPUs Go-Routinen Bilder Listener Verwendete Ereignisse Datei-Deskriptoren Daten Verfügbare Daten Gesamt verwendete Daten Metadaten Verfügbare Metadaten Gesamt verwendete Metadaten Pool-Blockgröße 


| Docker-Container | Namespace Containername Docker Engine | Kubernetes-Container-Hash Kubernetes-Container-Ports Kubernetes-Container-Neustart-Zähler Kubernetes-Container-Beendigungsnachrichtenpfad Kubernetes-Container-Beendigungsnachrichtenrichtlinie Kubernetes-Pod-Beendigungsfrist Container-Image Container-Status Container-Version Knotenname Kubernetes-Container-Protokollpfad Kubernetes-Container-Name Kubernetes-Docker-Typ Kubernetes-Pod-Name Kubernetes-Pod-Namespace Kubernetes-Pod-UID Kubernetes-Sandbox-ID Knoten-IP Knoten-UUID Docker-Version Kubernetes-E/A-Konfiguration gesehen Kubernetes-E/A-Konfigurationsquelle OpenShift-E/A-SCC Kubernetes-Beschreibung Kubernetes-Anzeigename OpenShift-Tags Kompose-Service Pod-Vorlagen-Hash Controller-Revisions-Hash Pod-Vorlagengenerierung Lizenzschema Erstellungsdatum Schema-Lizenz Schemaname Schema-URL Schema-VCS-URL Schemaanbieter Schemaversion Schema Schemaversionsbetreuer Kunde Pod Kubernetes StatefulSet Pod-Name Mandant Webkonsolen-Architektur Autoritative Quell-URL Erstellungsdatum RH-Build-Host RH-Komponente Verteilungsbereich Installation Release-Ausführungszusammenfassung Deinstallation VCS-Ref. VCS-Typ Anbieterversion Integritätsstatus Container-ID | Aktiver anonymer Speicher Aktiver Dateispeicher Cache-Speicher Hierarchische Grenze Inaktiver anonymer Speicher Inaktive Dateispeichergrenze Zugeordneter Dateispeicher Maximale Speicherauslastung Speicherseitenfehler Schwerwiegender Seitenfehler Eingelagerter Speicher Ausgelagerter Speicher Ausgelagerter Speicher Größe des residenten Satzes Riesiger residenter Satz Größe des residenten Satzes Gesamter aktiver anonymer Speicher Gesamter aktiver Dateispeicher Gesamter Cache-Speicher Gesamter inaktiver anonymer Speicher Gesamter inaktiver Dateispeicher Gesamter zugeordneter Dateispeicher Gesamter Seitenfehler Speicher Gesamter schwerwiegender Seitenfehler Gesamter ausgelagerter Speicher Gesamter ausgelagerter Speicher Gesamte Größe des residenten Satzes Gesamter residenter Satz Größe des residenten Satzes Gesamter nicht auslagerbarer Speicher Nicht auslagerbarer Speichernutzung Speichernutzung in Prozent Exit-Code OOM beendet PID gestartet bei Failing Streak 


| Docker-Container-Block-IO | Namespace Containername Gerät Docker Engine | Kubernetes-Container-Hash Kubernetes-Container-Ports Anzahl der Neustarts von Kubernetes-Containern Pfad der Kubernetes-Container-Beendigungsnachrichten Richtlinie für Kubernetes-Container-Beendigungsnachrichten Karenzzeit für Kubernetes-Pod-Beendigung Container-Image Container-Status Container-Version Knotenname Kubernetes-Container-Protokollpfad Kubernetes-Container-Name Kubernetes-Docker-Typ Kubernetes-Pod-Name Kubernetes-Pod-Namespace Kubernetes-Pod-UID Kubernetes-Sandbox-ID Knoten-IP Knoten-UUID Docker-Version Gesehene Kubernetes-Konfiguration Kubernetes-Konfigurationsquelle OpenShift SCC Kubernetes-Beschreibung Kubernetes-Anzeigename OpenShift-Tags Schema Schemaversion Pod-Vorlagen-Hash Controller-Revisions-Hash Pod-Vorlagengenerierung Kompose-Dienst Schema-Erstellungsdatum Schema-Lizenz Schemaname Schemaanbieter Kunden-Pod Kubernetes-StatefulSet Pod-Name Mandant-Webkonsole Erstellungsdatum Lizenzanbieter Architektur Autoritative Quell-URL RH-Build-Host RH-Komponente Verteilungsbereich Installationsbetreuer Release-Ausführungszusammenfassung Deinstallation VCS-Ref. VCS-Typ Version Schema-URL Schema VCS-URL Schemaversion Container-ID | IO-Service-Bytes rekursiv Asynchron IO-Service-Bytes rekursiv Lesen IO-Service-Bytes rekursiv Sync IO-Service-Bytes rekursiv gesamt IO-Service-Bytes rekursiv Schreiben IO bedient rekursiv Asynchron IO bedient rekursiv Lesen IO bedient rekursiv Sync IO bedient rekursiv gesamt IO bedient rekursiv Schreiben 


| Docker-Container-Netzwerk | Namespace Containername Netzwerk Docker Engine | Container-Image Container-Status Container-Version Knotenname Knoten-IP Knoten-UUID Knoten-Betriebssystem K8s-Cluster Docker-Version Container-ID | RX Verloren RX Bytes RX Fehler RX Pakete TX Verloren TX Bytes TX Fehler TX Pakete 


| Docker-Container-CPU | Namespace Containername CPU Docker Engine | Kubernetes-Container-Hash Kubernetes-Container-Ports Kubernetes-Container-Neustart-Zähler Kubernetes-Container-Beendigungsnachrichtenpfad Kubernetes-Container-Beendigungsnachrichtenrichtlinie Kubernetes-Pod-Beendigungsfrist Kubernetes-Konfiguration gesehen Kubernetes-Konfigurationsquelle OpenShift SCC-Container-Image Containerstatus Containerversion Knotenname Kubernetes-Container-Protokollpfad Kubernetes-Containername Kubernetes-Docker-Typ Kubernetes-Pod-Name Kubernetes-Pod-Namespace Kubernetes-Pod-UID Kubernetes-Sandbox-ID Knoten-IP Knoten-UUID Knoten-Betriebssystem Kubernetes-Cluster Docker-Version Kubernetes-Beschreibung Kubernetes-Anzeigename OpenShift-Tags Schemaversion Pod-Vorlagen-Hash Controller-Revisions-Hash Pod-Vorlagengenerierung Kompose-Dienst Schema-Erstellungsdatum Schema-Lizenz Schemaname Schemaanbieter Kunden-Pod Kubernetes-StatefulSet Pod-Name Mandant-Webkonsole Erstellungsdatum Lizenzanbieter Architektur Autoritative Quell-URL RH-Build-Host RH-Komponente Verteilungsbereich Installationsbetreuer Release-Ausführungszusammenfassung Deinstallation VCS-Ref. VCS-Typ Version Schema-URL Schema-VCS-URL Schemaversion Container-ID | Drosselungsperioden Drosselung Drosselungsperioden Drosselungszeit Drosselungszeit Nutzung im Kernelmodus Nutzung im Benutzermodus Nutzung in Prozent Nutzung Systemnutzung gesamt 
|===


== Fehlerbehebung

[cols="2*"]
|===
| Problem: | Versuchen Sie Folgendes: 


| Ich sehe meine Docker-Metriken nicht in Data Infrastructure Insights, nachdem ich die Anweisungen auf der Konfigurationsseite befolgt habe. | Überprüfen Sie die Protokolle des Telegraf-Agenten, um zu sehen, ob der folgende Fehler gemeldet wird: E!  Fehler im Plugin [inputs.docker]: Beim Versuch, eine Verbindung zum Docker-Daemon-Socket herzustellen, wurde die Berechtigung verweigert. Wenn dies der Fall ist, ergreifen Sie die erforderlichen Maßnahmen, um dem Telegraf-Agenten Zugriff auf den Docker-Unix-Socket zu gewähren, wie oben angegeben. 
|===
Weitere Informationen finden Sie in derlink:concept_requesting_support.html["Support"] Seite.
