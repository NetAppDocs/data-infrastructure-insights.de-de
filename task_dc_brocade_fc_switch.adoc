---
sidebar: sidebar 
permalink: task_dc_brocade_fc_switch.html 
keywords: data collector, Brocade, FC switch, 
summary: Konfigurieren des Datenkollektors für Brocade FC-Switches. 
---
= Brocade FC Switch-Datenkollektor
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Data Infrastructure Insights verwendet die Datenquelle Brocade FC Switch (SSH), um den Bestand für Brocade oder umbenannte Switch-Geräte zu ermitteln, auf denen die Factored Operating System (FOS)-Firmware 4.2 und höher ausgeführt wird.  Es werden Geräte sowohl im FC-Switch- als auch im Access Gateway-Modus unterstützt.



== Terminologie

Data Infrastructure Insights erhält die folgenden Bestandsinformationen vom Brocade FC Switch-Datensammler.  Für jeden von Data Infrastructure Insights erworbenen Asset-Typ wird die am häufigsten verwendete Terminologie für dieses Asset angezeigt.  Beachten Sie beim Anzeigen oder bei der Fehlerbehebung dieses Datensammlers die folgende Terminologie:

[cols="2*"]
|===
| Anbieter/Modellbegriff | Begriff „Data Infrastructure Insights“ 


| Schalten | Schalten 


| Hafen | Hafen 


| Virtuelles Gewebe, physisches Gewebe | Stoff 


| Zone | Zone 


| Logischer Switch | Logischer Switch 


| Virtuelles Volume | Volumen 


| LSAN-Zone | IVR-Zone 
|===
Hinweis: Hierbei handelt es sich lediglich um allgemeine Terminologiezuordnungen, die möglicherweise nicht jeden Fall für diesen Datensammler darstellen.



== Anforderungen

* Die Data Infrastructure Insights Acquisition Unit (AU) initiiert Verbindungen zum TCP-Port 22 auf Brocade -Switches, um Inventardaten zu erfassen.  Die AU initiiert außerdem Verbindungen zum UDP-Port 161, um Leistungsdaten zu erfassen.
* Es muss eine IP-Konnektivität zu allen Switches im Fabric bestehen.  Wenn Sie das Kontrollkästchen „Alle Switches im Fabric erkennen“ aktivieren, identifiziert Data Infrastructure Insights alle Switches im Fabric. Allerdings ist für die Erkennung dieser zusätzlichen Switches eine IP-Verbindung erforderlich.
* Für alle Switches im Fabric ist global dasselbe Konto erforderlich.  Sie können PuTTY (Open Source-Terminalemulator) verwenden, um den Zugriff zu bestätigen.
* Die Ports 161 und 162 müssen für alle Switches im Fabric für die SNMP-Leistungsabfrage geöffnet sein.
* SNMP-Nur-Lese-Community-String




== Konfiguration

[cols="2*"]
|===
| Feld | Beschreibung 


| IP wechseln | IP-Adresse oder vollqualifizierter Domänenname des EFC-Servers 


| Benutzername | Benutzername für den Switch 


| Passwort | Passwort für den Switch 


| SNMP | SNMP-Version 


| SNMP-Community-String | SNMP-schreibgeschützte Community-Zeichenfolge für den Zugriff auf den Switch 


| SNMP-Benutzername | SNMP-Benutzername 


| SNMP-Passwort | SNMP-Passwort 
|===


== Erweiterte Konfiguration

[cols="2*"]
|===
| Feld | Beschreibung 


| Stoffname | Vom Datensammler zu meldender Stoffname.  Lassen Sie das Feld leer, um den Fabric-Namen als WWN zu melden. 


| Inventarabfrageintervall (min) | Intervall zwischen den Bestandsabfragen.  Der Standardwert ist 15. 


| Ausgeschlossene Geräte | Durch Kommas getrennte Liste von Geräte-IDs, die von der Abfrage ausgeschlossen werden sollen 


| Aktive Admin-Domänen | Wählen Sie aus, ob Sie Admin-Domänen verwenden 


| MPR-Daten abrufen | Wählen Sie diese Option aus, um Routingdaten von Ihrem Multiprotokoll-Router abzurufen. 


| Überfüllung aktivieren | Wählen Sie diese Option, um die Erfassung beim Empfang eines SNMP-Traps vom Gerät zu aktivieren.  Wenn Sie „Trapping aktivieren“ auswählen, müssen Sie auch SNMP aktivieren. 


| Mindestzeit zwischen Traps (Sek.) | Mindestzeit zwischen durch Traps ausgelösten Erfassungsversuchen.  Der Standardwert ist 10. 


| Entdecken Sie alle Switches im Fabric | Wählen Sie diese Option aus, um alle Switches im Fabric zu erkennen 


| Wählen Sie HBA gegenüber Zonenaliasen | Wählen Sie, ob HBA- oder Zonenaliase bevorzugt werden sollen 


| Leistungsabfrageintervall (Sek.) | Intervall zwischen Leistungsabfragen.  Der Standardwert ist 300. 


| SNMP-Authentifizierungsprotokoll | SNMP-Authentifizierungsprotokoll (nur SNMP v3) 


| SNMP-Datenschutzkennwort | SNMP-Datenschutzkennwort (nur SNMP v3) 


| SNMP-Wiederholungen | Anzahl der SNMP-Wiederholungsversuche 
|===


== Fehlerbehebung

Wenn bei diesem Datensammler Probleme auftreten, können Sie Folgendes versuchen:



=== Inventar

[cols="2*"]
|===
| Problem: | Versuchen Sie Folgendes: 


| Die Inventarerfassung der Brocade -Datenquelle schlägt mit folgendem Fehler fehl: <Datum> <Uhrzeit> FEHLER [com.onaro.sanscreen.acquisition.framework.datasource.BaseDataSource] Fehler 2 von 2: <Datenquellenname> [Interner Fehler] – Das Modell für Gerät <IP> konnte nicht generiert werden.  Fehler beim Erkennen der Eingabeaufforderung ([Gerätename <Name>]: Das Modell für Gerät <IP> konnte nicht generiert werden.  Fehler bei der Eingabeaufforderung) | Das Problem kann dadurch verursacht werden, dass der Brocade -Switch zu lange braucht, um mit einer Eingabeaufforderung zurückzukehren, und das Standard-Timeout von 5 Sekunden überschreitet.  Versuchen Sie, in den erweiterten Konfigurationseinstellungen des Datensammlers in Data Infrastructure Insights den Wert _SSH-Banner-Wartezeitüberschreitung (Sek.)_ auf einen höheren Wert zu erhöhen. 


| Fehler: „Data Infrastructure Insights hat eine ungültige Chassis-Rolle erhalten“ | Überprüfen Sie, ob dem in dieser Datenquelle konfigurierten Benutzer die Berechtigung für die Chassis-Rolle erteilt wurde. 


| Fehler: „Nicht übereinstimmende Gehäuse-IP-Adresse“ | DII unterstützt grundsätzlich KEINE Netzwerkadressübersetzung oder Portadressübersetzung zwischen der Erfassungseinheit und Geräten.  DII erkennt möglicherweise, dass der Hostname/die IP-Adresse in der Collector-Konfiguration NICHT mit einer der Adressen übereinstimmt, die das Gerät zu haben glaubt. 


| Erhalten Sie eine Meldung, dass mehr als ein Knoten am Access Gateway-Port angemeldet ist | Überprüfen Sie, ob das NPV-Gerät ordnungsgemäß funktioniert und ob alle angeschlossenen WWNs den Erwartungen entsprechen.  Erwerben Sie das NPV-Gerät nicht direkt.  Stattdessen werden die NPV-Gerätedaten durch die Erfassung des Core Fabric Switch erfasst. 


| Fehler: ....Maximale Remote-Sitzungen für die Anmeldung... | FOS hat unterschiedliche Beschränkungen für die Anzahl unterstützter gleichzeitiger SSH-Sitzungen pro Benutzerrolle.  Die SSH-Sitzung von DII zu diesem Gerät wird bei der Anmeldung wegen Verletzung dieser Grenzwerte abgelehnt.  Dies kann ein Zeichen dafür sein, dass Sie doppelte Sammler haben, die denselben Vermögenswert entdecken, was vermieden werden sollte 
|===


=== Performance

[cols="2*"]
|===
| Problem: | Versuchen Sie Folgendes: 


| Die Leistungserfassung schlägt mit der Meldung „Zeitüberschreitung beim Senden der SNMP-Anforderung“ fehl. | Abhängig von Abfragevariablen und Switch-Konfiguration können einige Abfragen das Standard-Timeout überschreiten. link:https://kb.netapp.com/Cloud/ncds/nds/dii/dii_kbs/Data_Infrastructure_Insights_Brocade_data_source_fails_performance_collection_with_a_timeout_due_to_default_SNMP_configuration["Weitere Informationen"] . 


| Die Leistungserfassung schlägt fehl mit ... Zeilenduplikate in der SNMP-Tabelle gefunden ... | DII hat fehlerhafte SNMP-Antworten erkannt.  Sie verwenden wahrscheinlich FOS 8.2.3e.  Aktualisieren Sie auf 8.2.3e2 oder höher. 


| Leistungserfassungen schlagen mit ...Unbekanntem Benutzernamen... fehl | Sie haben Ihren DII-Collector mit einem „SNMP-Benutzernamen“-Wert konfiguriert, der nicht in einen der SNMPv3-Benutzersteckplätze passt.  Durch das einfache Erstellen eines Benutzers auf Brocade FOS wird dieser NICHT unbedingt als SNMPv3-Benutzer aktiviert – Sie müssen ihn in einem der v3-Benutzerslots platzieren. 


| Leistungserfassungen schlagen mit ...Nicht unterstützte Sicherheitsstufe... fehl. | Sie haben Ihren DII-Collector für die Verwendung von SNMPv3 konfiguriert, jedoch mit Verschlüsselungs- (auch Datenschutz-) und/oder Autorisierungseinstellungen, die auf dem betreffenden Gerät nicht aktiviert sind. 


| Die Leistungserfassung schlägt fehl mit ... Leeres Datenschutzkennwort ist nur für das Datenschutzprotokoll NONE zulässig | Sie haben Ihren DII-Collector für die Verwendung von SNMPv3 mit einem Verschlüsselungs- bzw. Datenschutzprotokoll (AES usw.) konfiguriert, aber Sie haben einen leeren Wert für „SNMP-Datenschutzkennwort“, sodass DII keine verschlüsselten SNMPv3-Datenflüsse mit diesem Gerät aushandeln kann. 


| Die Leistungserfassung schlägt mit .....VF:nn fehl, Fehler: Kein Zugriff... | Sie haben Ihren DII-Collector für die Verwendung von SNMPv3 auf einem Gerät mit mehreren aktivierten virtuellen Fabrics konfiguriert, aber der SNMPv3-Benutzer verfügt NICHT über Rechte für VF NN.  DII unterstützt keine teilweise Erkennung eines physischen Assets. Sie sollten DII immer proaktiv Zugriff auf alle 128 möglichen VFs gewähren, da DII immer versucht, Leistungsdaten für alle vorhandenen VFs auf einem bestimmten physischen Gerät abzurufen. 
|===
Weitere Informationen finden Sie in derlink:concept_requesting_support.html["Support"] Seite oder in derlink:reference_data_collector_support_matrix.html["Datensammler-Supportmatrix"] .
