---
sidebar: sidebar 
permalink: concept_kubernetes_network_monitoring_and_map.html 
keywords: service map, workloads, 
summary: Präsentiert Kubernetes-Workload-Abhängigkeiten und -Flows und hebt Netzwerk- und Leistungsprobleme hervor 
---
= Überwachung und Zuordnung der Kubernetes-Netzwerkleistung
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Die Funktion „Netzwerkleistungsüberwachung und -zuordnung“ von Kubernetes vereinfacht die Fehlerbehebung durch die Zuordnung von Abhängigkeiten zwischen Diensten (auch Workloads genannt) und bietet Echtzeit-Einblicke in Latenzen und Anomalien der Netzwerkleistung, um Leistungsprobleme zu erkennen, bevor sie sich auf Benutzer auswirken.  Diese Funktion hilft Unternehmen, die Gesamtkosten durch die Analyse und Prüfung von Kubernetes-Verkehrsflüssen zu senken.

Hauptfunktionen: • Die Workload Map stellt Kubernetes-Workload-Abhängigkeiten und -Flows dar und hebt Netzwerk- und Leistungsprobleme hervor.  • Überwachen Sie den Netzwerkverkehr zwischen Kubernetes-Pods, Workloads und Knoten; identifizieren Sie die Quelle von Verkehrs- und Latenzproblemen.  • Reduzieren Sie die Gesamtkosten, indem Sie den eingehenden, ausgehenden, regions- und zonenübergreifenden Netzwerkverkehr analysieren.

image:workload-map-animated.gif["Beispiel für eine Workload-Karte"]



== Voraussetzungen

Bevor Sie die Kubernetes-Netzwerkleistungsüberwachung und -karte verwenden können, müssen Sie Folgendes konfiguriert haben:link:task_config_telegraf_agent_k8s.html["NetApp Kubernetes Monitoring Operator"] um diese Option zu aktivieren.  Aktivieren Sie während der Bereitstellung des Operators das Kontrollkästchen „Netzwerkleistung und Karte“, um die Funktion zu aktivieren.  Sie können diese Option auch aktivieren, indem Sie zu einer Kubernetes-Landingpage navigieren und „Bereitstellung ändern“ auswählen.

image:ServiceMap_NKMO_Deployment_Options.png["Auswählen der Kartenoption während des NKMO-Stups"]



== Monitore

Die Workload Map verwendetlink:task_create_monitor.html["Monitore"] um Informationen abzuleiten.  Data Infrastructure Insights bietet eine Reihe von standardmäßigen Kubernetes-Monitoren (beachten Sie, dass diese standardmäßig _angehalten_ sein können).  Sie können die gewünschten Monitore _fortsetzen_ (d. h. aktivieren) oder benutzerdefinierte Monitore für Kubernetes-Objekte erstellen, die auch von der Workload Map verwendet werden.

Sie können Data Infrastructure Insights -Metrikwarnungen für alle der folgenden Objekttypen erstellen.  Stellen Sie sicher, dass die Daten nach dem Standardobjekttyp gruppiert sind.

* kubernetes.workload
* kubernetes.daemonset
* kubernetes.deployment
* kubernetes.cronjob
* kubernetes.job
* kubernetes.replicaset
* kubernetes.statefulset
* kubernetes.pod
* kubernetes.network_traffic_l4




== Die Karte

Die Karte zeigt Dienste/Workloads und ihre Beziehungen zueinander.  Pfeile zeigen die Verkehrsrichtung an.  Wenn Sie mit der Maus über eine Arbeitslast fahren, werden zusammenfassende Informationen zu dieser Arbeitslast angezeigt, wie Sie in diesem Beispiel sehen können:

image:ServiceMap_Simple_Example.png["Beispiel für eine Workload-Map-Arbeitslast"]

Die Symbole in den Kreisen stellen unterschiedliche Servicetypen dar.  Beachten Sie, dass Symbole nur sichtbar sind, wenn die darunter liegenden Objekte<<workload-labels,Etiketten>> .

image:ServiceMap_Icons.png["Servicesymbole erklärt"]

Die Größe jedes Kreises gibt die Knotengröße an.  Beachten Sie, dass diese Größen relativ sind. Die Zoomstufe Ihres Browsers oder die Bildschirmgröße können die tatsächliche Kreisgröße beeinflussen.  Auf die gleiche Weise bietet Ihnen der Verkehrslinienstil einen Überblick über die Verbindungsgröße. Fette durchgezogene Linien stehen für hohen Verkehr, während hell gepunktete Linien für geringeren Verkehr stehen.

Die Zahlen in den Kreisen geben die Anzahl der externen Verbindungen an, die derzeit vom Dienst verarbeitet werden.

image:ServiceMap_Node_and_Connection_Legend.png["Legende mit den relativen Kreis- (Knoten-) und Verbindungsgrößen"]



== Arbeitslastdetails und Warnungen

Farbig angezeigte Kreise weisen auf eine Warnung oder einen Alarm der kritischen Stufe für die Arbeitslast hin.  Bewegen Sie den Mauszeiger über den Kreis, um eine Zusammenfassung des Problems anzuzeigen, oder klicken Sie auf den Kreis, um ein Slideout-Fenster mit weiteren Details zu öffnen.

image:Workload_Map_Slideout_with_Alert.png["Workload-Slideout-Details mit Warnungen"]



== Suchen und Filtern

Wie bei anderen Data Infrastructure Insights Funktionen können Sie ganz einfach Filter festlegen, um sich auf die gewünschten spezifischen Objekte oder Workload-Attribute zu konzentrieren.

image:Workload_Map_Filtering.png["Filtern der Workload-Karte"]

Ebenso werden durch die Eingabe einer Zeichenfolge in das Feld _Suchen_ passende Workloads hervorgehoben.

image:Workload_Map_Find_Highlighting.png["Durch Eingabe in das Suchfeld werden Arbeitslasten hervorgehoben"]



== Arbeitslastbezeichnungen

Arbeitslastbeschriftungen sind erforderlich, wenn die Karte die angezeigten Arbeitslasttypen identifizieren soll (d. h. die Kreissymbole).  Die Bezeichnungen werden wie folgt abgeleitet:

* Name des ausgeführten Dienstes/der ausgeführten Anwendung in allgemeinen Begriffen
* Wenn die Quelle ein Pod ist:
+
** Das Label wird vom Workload-Label des Pods abgeleitet
** Erwartete Bezeichnung für die Arbeitslast: app.kubernetes.io/component
** Referenz des Etikettennamens: https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/[]
** Empfohlene Etiketten:
+
*** Frontend
*** Backend
*** Datenbank
*** Cache
*** Warteschlange
*** Kafka




* Wenn die Quelle außerhalb des Kubernetes-Clusters liegt:
+
** Data Infrastructure Insights versucht, den DNS-aufgelösten Namen zu analysieren, um den Diensttyp zu extrahieren.
+
Beispielsweise wird bei einem DNS-aufgelösten Namen von _s3.eu-north-1.amazonaws.com_ der aufgelöste Name analysiert, um _s3_ als Diensttyp zu erhalten.







== Tauchen Sie tief ein

Wenn Sie mit der rechten Maustaste auf eine Arbeitslast klicken, werden Ihnen zusätzliche Optionen zur weiteren Erkundung angezeigt.  Von hier aus können Sie beispielsweise hineinzoomen, um die Verbindungen für diese Arbeitslast anzuzeigen.

image:Workload_Map_Zoom_Into_Connections.png["Workload-Karte: Rechtsklick-Zoom, um die Verbindungen der Workload anzuzeigen"]

Oder Sie können das Detail-Slideout-Panel öffnen, um die Registerkarten „Zusammenfassung“, „Netzwerk“ oder „Pod & Speicher“ direkt anzuzeigen.

image:Workload_Map_Detail_Network_Slideout.png["Beispiel für die Registerkarte „Netzwerk“ im Detail-Slideout"]

Wenn Sie abschließend „Zur Asset-Seite gehen“ auswählen, wird die detaillierte Asset-Landingpage für die Arbeitslast geöffnet.

image:Workload_Map_Asset_Page.png["Seite „Workload-Asset“"]
