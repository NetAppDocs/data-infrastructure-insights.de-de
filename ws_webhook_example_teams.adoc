---
sidebar: sidebar 
permalink: ws_webhook_example_teams.html 
keywords: webhook, notification, Microsoft, Teams, integration 
summary: Erstellen Sie einen Workload Security-Webhook für Microsoft Teams, um Sicherheitswarnungen zu erhalten 
---
= Beispiel für einen Workload-Sicherheits-Webhook für Microsoft Teams
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Mithilfe von Webhooks können Benutzer über einen benutzerdefinierten Webhook-Kanal Warnbenachrichtigungen an verschiedene Anwendungen senden.  Diese Seite bietet ein Beispiel zum Einrichten von Webhooks für Teams.


NOTE: Diese Seite verweist auf Anweisungen von Drittanbietern, die Änderungen unterliegen.  Weitere Informationen finden Sie imlink:https://docs.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook["Teams-Dokumentation"] für die aktuellsten Informationen.



== Teams-Setup:

. Wählen Sie in Teams den Kebab aus und suchen Sie nach „Eingehender Webhook“.
+
image:Webhooks_Teams_Create_Webhook.png["Eingehender Webhook in Teams"]

. Wählen Sie *Zu einem Team hinzufügen > Ein Team auswählen > Einen Connector einrichten*.
. Kopieren Sie die Webhook-URL.  Sie müssen dies in die Workload Security-Webhook-Konfiguration einfügen.




== Erstellen Sie einen Workload Security Teams-Webhook:

. Navigieren Sie zu „Admin > Benachrichtigungen“ und wählen Sie die Registerkarte „Workload Security Webhooks“ aus.  Wählen Sie _+ Webhook_, um einen neuen Webhook zu erstellen.
. Geben Sie dem Webhook einen aussagekräftigen Namen.
. Wählen Sie im Dropdown-Menü „Vorlagentyp“ die Option „Teams“ aus.
+
image:ws_webhook_teams_example.png["Beispiel für einen Webhook für Workload Security-Teams"]

. Fügen Sie die URL von oben in das Feld _URL_ ein.




=== Schritte zum Erstellen einer Teams-Benachrichtigung mit der Adaptive Card-Vorlage

. Ersetzen Sie den Nachrichtentext durch die folgende Vorlage:
+
....
  {
  "type": "message",
  "attachments": [
    {
      "contentType": "application/vnd.microsoft.card.adaptive",
      "content": {
        "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
        "type": "AdaptiveCard",
        "version": "1.2",
        "body": [
          {
            "type": "TextBlock",
            "text": "%%severity%% Alert: %%synopsis%%",
            "wrap": true,
            "weight": "Bolder",
            "size": "Large"
          },
          {
            "type": "TextBlock",
            "text": "%%detected%%",
            "wrap": true,
            "isSubtle": true,
            "spacing": "Small"
          },
          {
            "type": "FactSet",
            "facts": [
              {
                "title": "User",
                "value": "%%userName%%"
              },
              {
                "title": "Attack/Abnormal Behavior",
                "value": "%%type%%"
              },
              {
                "title": "Action taken",
                "value": "%%actionTaken%%"
              },
              {
                "title": "Files encrypted",
                "value": "%%filesEncrypted%%"
              },
              {
                "title": "Encrypted files suffix",
                "value": "%%encryptedFilesSuffix%%"
              },
              {
                "title": "Files deleted",
                "value": "%%filesDeleted%%"
              },
              {
                "title": "Activity Change Rate",
                "value": "%%changePercentage%%"
              },
              {
                "title": "Severity",
                "value": "%%severity%%"
              },
              {
                "title": "Status",
                "value": "%%status%%"
              },
              {
                "title": "Notes",
                "value": "%%note%%"
              }
            ]
          }
        ],
        "actions": [
          {
            "type": "Action.OpenUrl",
            "title": "View Details",
            "url": "https://%%cloudInsightsHostname%%/%%alertDetailsPageUrl%%"
          }
        ]
      }
    }
  ]
}
....
. Wenn Sie Power Automate Flows verwenden, sind die Abfrageparameter in der URL im codierten Format. Sie müssen die URL decodieren, bevor Sie sie eingeben.
. Klicken Sie auf „Test Webhook“, um sicherzustellen, dass keine Fehler vorliegen.
. Speichern Sie den Webhook.




== Benachrichtigungen per Webhook

Um über Ereignisse per Webhook benachrichtigt zu werden, navigieren Sie zu _Workload-Sicherheit > Richtlinien_.  Wählen Sie _+Angriffsrichtlinie_ oder _+Warnrichtlinie_.

* Geben Sie einen aussagekräftigen Richtliniennamen ein.
* Wählen Sie die erforderlichen Angriffstypen, Geräte, an die die Richtlinie angehängt werden soll, und die erforderlichen Aktionen aus.
* Wählen Sie im Dropdown-Menü „Webhook-Benachrichtigungen“ die erforderlichen Teams-Webhooks aus. Speichern Sie die Richtlinie.


Hinweis: Webhooks können auch an vorhandene Richtlinien angehängt werden, indem diese bearbeitet werden.

image:ws_add_attack_policy.png["Dialogfeld „Angriffsrichtlinie“ hinzufügen, das Webhook anzeigt"]
