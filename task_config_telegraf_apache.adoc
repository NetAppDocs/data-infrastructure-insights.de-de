---
sidebar: sidebar 
permalink: task_config_telegraf_apache.html 
keywords: telegraf, installation, install, apache 
summary: Apache-Datensammlerkonfiguration 
---
= Apache-Datensammler
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Dieser Datensammler ermöglicht das Sammeln von Daten von Apache-Servern auf Ihrem Mandanten.

.Voraussetzungen
* Sie müssen Ihren Apache HTTP-Server eingerichtet und ordnungsgemäß ausgeführt haben
* Sie müssen über Sudo- oder Administratorberechtigungen auf Ihrem Agent-Host/Ihrer VM verfügen
* Normalerweise ist das Apache-Modul _mod_status_ so konfiguriert, dass eine Seite am Speicherort „/server-status?auto“ des Apache-Servers angezeigt wird.  Die Option _ExtendedStatus_ muss aktiviert sein, um alle verfügbaren Felder zu erfassen.  Informationen zum Konfigurieren Ihres Servers finden Sie in der Apache-Moduldokumentation: https://httpd.apache.org/docs/2.4/mod/mod_status.html#enable[]




== Installation

. Klicken Sie unter *Observability > Collectors* auf *+Data Collector*.  Wählen Sie Apache.
+
Wählen Sie das Betriebssystem oder die Plattform aus, auf der der Telegraf-Agent installiert ist.

. Wenn Sie noch keinen Agenten für die Sammlung installiert haben oder einen Agenten für ein anderes Betriebssystem oder eine andere Plattform installieren möchten, klicken Sie auf _Anweisungen anzeigen_, um daslink:task_config_telegraf_agent.html["Agenteninstallation"] Anweisungen.
. Wählen Sie den Agent-Zugriffsschlüssel zur Verwendung mit diesem Datensammler aus.  Sie können einen neuen Agentenzugriffsschlüssel hinzufügen, indem Sie auf die Schaltfläche *+ Agentenzugriffsschlüssel* klicken.  Best Practice: Verwenden Sie nur dann einen anderen Agent-Zugriffsschlüssel, wenn Sie Datensammler beispielsweise nach Betriebssystem/Plattform gruppieren möchten.
. Befolgen Sie die Konfigurationsschritte, um den Datensammler zu konfigurieren.  Die Anweisungen variieren je nach Art des Betriebssystems oder der Plattform, die Sie zum Sammeln von Daten verwenden.


image:ApacheDCConfigLinux.png["Apache-Konfiguration"]



== Aufstellen

Das Plugin von Telegraf für den HTTP-Server von Apache erfordert die Aktivierung des Moduls „mod_status“.  Wenn dies aktiviert ist, stellt der HTTP-Server von Apache einen HTML-Endpunkt bereit, der in Ihrem Browser angezeigt oder zum Extrahieren des Status der gesamten HTTP-Serverkonfiguration von Apache verwendet werden kann.



=== Kompatibilität:

Die Konfiguration wurde für Apaches HTTP-Server Version 2.4.38 entwickelt.



=== Aktivieren von mod_status:

Das Aktivieren und Freigeben der „mod_status“-Module umfasst zwei Schritte:

* Aktivierungsmodul
* Statistiken aus dem Modul anzeigen




=== Aktivierungsmodul:

Das Laden der Module wird durch die Konfigurationsdatei unter „/usr/local/apache/conf/httpd.conf“ gesteuert.  Bearbeiten Sie die Konfigurationsdatei und entfernen Sie die Kommentarzeichen aus den folgenden Zeilen:

 LoadModule status_module modules/mod_status.so
 Include conf/extra/httpd-info.conf


=== Statistiken aus dem Modul anzeigen:

Die Offenlegung von „mod_status“ wird durch die Konfigurationsdatei unter „/usr/local/apache2/conf/extra/httpd-info.conf“ gesteuert.  Stellen Sie sicher, dass die Konfigurationsdatei Folgendes enthält (zumindest andere Anweisungen werden dort vorhanden sein):

[listing]
----
# Allow server status reports generated by mod_status,
# with the URL of http://servername/server-status
<Location /server-status>
    SetHandler server-status
</Location>

#
# ExtendedStatus controls whether Apache will generate "full" status
# information (ExtendedStatus On) or just basic information (ExtendedStatus
# Off) when the "server-status" handler is called. The default is Off.
#
ExtendedStatus On
----
Ausführliche Anweisungen zum Modul „mod_status“ finden Sie imlink:https://httpd.apache.org/docs/2.4/mod/mod_status.html#enable["Apache-Dokumentation"]



== Objekte und Zähler

Die folgenden Objekte und ihre Zähler werden gesammelt:

[cols="<.<,<.<,<.<,<.<"]
|===
| Objekt: | Kennungen: | Merkmale: | Datenpunkte: 


| Apache | Namespace-Server | Knoten-IP Knotenname Port Übergeordneter Server Konfigurationsgenerierung Übergeordneter Server MPM-Generierung Server-Betriebszeit wird gestoppt | Beschäftigte Worker Bytes pro Anfrage Bytes pro Sekunde CPU-Kinder System-CPU-Kinder Benutzer-CPU-Last CPU-System-CPU-Benutzer Asynchrone Verbindungen Schließende asynchrone Verbindungen Asynchrone Keep-Alive-Verbindungen Schreibende Verbindungen Gesamtdauer pro Anfrage Inaktive Worker Durchschnittliche Auslastung (letzte 1 Min.) Durchschnittliche Auslastung (letzte 15 Min.) Durchschnittliche Auslastung (letzte 5 Min.) Prozesse Anfragen pro Sekunde Gesamtzugriffe Gesamtdauer Gesamt-KByte Anzeigetafel Anzeigetafel wird geschlossen Anzeigetafel DNS-Lookups Anzeigetafel wird beendet Anzeigetafel Anzeigetafel Leerlaufbereinigung Anzeigetafel Keep-Alive Anzeigetafel wird protokolliert Anzeigetafel geöffnet Anzeigetafel liest Anzeigetafel sendet Anzeigetafel startet Anzeigetafel wartet 
|===


== Fehlerbehebung

Weitere Informationen finden Sie in derlink:concept_requesting_support.html["Support"] Seite.
